---
description: 
globs: 
alwaysApply: true
---

# 项目需求

本项目的任务是创建一个工具，用于统计C/C++源文件中的代码行、注释行和空行（可选扩展到Ruby。未来可能扩展到其他语言，但当前并无需求）。

## 以下是主要需求：

1. 统计扩展名为.c、.cpp和.cc的文件中的行数
2. 将每一行分类为：
 - 代码行
 - 注释行
 - 空行
3. 递归遍历目录
4. 处理边缘情况，如字符串中的注释字符
5. 遵循特定的输出格式
6. 可选扩展支持Ruby文件
7. 不⽤考虑一个目录中有多种编程语⾔混合存在的场景

## 主要挑战

### 注释检测：
- C/C++有多种注释风格：//（单行）、/* */（多行）
- Ruby有不同的注释风格：#（单行）、=begin到=end（多行）
- 字符串内部的注释字符应被视为字面文本，不应计为注释

### 行分类：
- 同时包含代码和注释的行应分类为代码行
- 多行注释内的空行计为空行
- 正确处理缩进和仅包含空白的行

### 目录遍历：
- 高效递归遍历目录
- 按扩展名正确过滤文件